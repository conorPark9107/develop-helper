<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <!-- jquery alert-->
    <!--https://craftpip.github.io/jquery-confirm/themes.html#custom-themes-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.4/jquery-confirm.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.4/jquery-confirm.min.js"></script>


    <!-- <script type="text/javascript" src="/static/js/util.js"></script>
    <script type="text/javascript" src="/static/js/battle/battleboard.js"></script>
    <link rel="stylesheet" href="/static/css/variable.css" />
    <link rel="stylesheet" href="/static/css/editor.css" />
    <link rel="stylesheet" href="/static/css/loading.css" />
    <link rel="stylesheet" href="/static/css/index.css" />
    <link rel="stylesheet" href="/static/css/detail.css" />
    <link rel="stylesheet" href="/static/css/battle/battleboard.css" /> -->

    <script type="text/javascript" src="/js/util.js"></script>
    <script type="text/javascript" src="js/battle/battleboard.js"></script>
    <link rel="stylesheet" href="/css/variable.css" />
    <link rel="stylesheet" href="/css/editor.css" />
    <link rel="stylesheet" href="/css/loading.css" />
    <link rel="stylesheet" href="/css/index.css" />
    <link rel="stylesheet" href="/css/detail.css" />
    <link rel="stylesheet" href="/css/battle/battleboard.css" />
    <meta charset="UTF-8">
    <title>⚔ 알비온 헬퍼 ⚔</title>
</head>
<body data-theme="light-mode">
<script type="text/javascript" src="/js/toggle.js"></script>

<div class="header">
    <a class="header-logo link" href="/">⚔ 알비온 헬퍼</a>
    <label class="switch">
        <input class="switchBtn" role="switch" type="checkbox" />
        <span>다크 모드</span>
    </label>
</div>

<div>

    <div class="container-title">
        <h6>길드 단위 전투 로그</h6>
    </div>
    <div class="container">
        <div class="flex-row shadow">
            <input class="input" type="text" id="inputText" placeholder="길드명을 정확히 입력해주세요. (공백 포함)">
            <a class="search" id="searchBtn">🔍</a>
        </div>
        <div class="flex-row flex-vertical-center">
            <div class="flex-item">
                <a class="btn shadow not-open" id="multiBtn">선택한 전투 모아 보기</a>
            </div>
            <div class="flex-item">
                <span class="select-button shadow">참여 플레이어 수 🔻</span>
                <ul class="dropdown">
                    <li class="dropdown-content">
                        <a href="">최근 전투</a>
                    </li>
                    <li class="dropdown-content">
                        <a href="">5명 이상</a>
                    </li>
                    <li class="dropdown-content">
                        <a href="">10명 이상</a>
                    </li>
                    <li class="dropdown-content">
                        <a href="">20명 이상</a>
                    </li>
                    <li class="dropdown-content">
                        <a href="">30명 이상</a>
                    </li>
                    <li class="dropdown-content">
                        <a href="">40명 이상</a>
                    </li>
                    <li class="dropdown-content">
                        <a href="">100명 이상</a>
                    </li>
                </ul>
            </div>
            <div class="flex-item">
                <input type="radio" id="server01" name="server" value="east" checked />
                <label for="server01">아시아</label>
                <input type="radio" id="server02" name="server" value="west" />
                <label for="server02">아메리카</label>
                <input type="radio" id="server03" name="server" value="europe" />
                <label for="server03">유럽</label>
            </div>
        </div>

        <table class="table maintable">
            <caption><span class="info-msg">행을 클릭하면 전투 상세보기로 이동합니다.</span></caption>
            <colgroup>
                <col class="col1">
                <col class="col2">
                <col class="col5">
                <col class="col3">
                <col class="col4">
                <col class="col2">
                <col class="col6">
            </colgroup>
            <thead>
                <tr>
                    <th>선택</th>
                    <th>발생일<br/>(한국시간)</th>
                    <th>발생일<br/>(UTC)</th>
                    <th>전투에 참여한 길드 (guilds)</th>
                    <th>총페임<br/>(Fame)</th>
                    <th>플레이어 수<br/>(Players)</th>
                    <th>킬 수<br/>(Kills)</th>
                </tr>
            </thead>
            <tbody>

                <tr th:each="battle : ${list}" class="hover-background">
                    <td><input type="checkbox" name="multi" th:value="${battle.id}" /></td>
                    <td th:text="${battle.endTime}">

                    </td>
                    <td th:text="|${battle.utcTime} UTC|">

                    </td>
                    <td>
                        <span class="guild-name" th:each="guild: ${battle.guilds}" value="${guild.id}">
                            <th:block th:text="${guildStat.last} ? ${guild.name} : ${guild.name} + ','"></th:block>
                        </span>
                    </td>
                    <td th:text="${battle.totalFame}"></td>
                    <td th:text="${#lists.size(battle.players)}"></td>
                    <td th:text="${battle.totalKills}"></td>
                </tr>
            </tbody>
        </table>
        <div class="moreviewDiv">
            <input type="hidden" id="offset" th:value="${offset}" />
            <input type="hidden" id="limit" th:value="${limit}" />
            <input type="hidden" id="guildId" value="" />
            <a class="shadow btn" id="moreviewBtn">더 보기 👆🏻</a>
        </div>
        
        <div class="blackArea"></div>
            <div class="popup">
                <div class="popup-head">
                    <span class="closeBtn">×</span>
                    <span>길드를 선택해주세요.</span>
                </div>
                <ul id="guildList" class="list">
                </ul>
            </div>
    </div>    

</div>

<div id="blackArea">
    <div id="loading">
        <div class="stick"></div>
        <div class="stick"></div>
        <div class="stick"></div>
        <div class="stick"></div>
        <div class="stick"></div>
        <div class="stick"></div>
        <h1>정보 요청중..</h1>
    </div>
</div>


</body>
</html>
